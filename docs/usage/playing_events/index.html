<!DOCTYPE html>
<html lang="en" class="js csstransforms3d">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="Hugo 0.104.3" />
    <meta name="description" content="">


    <link rel="icon" href="/pymaxmusic/images/favicon.png" type="image/png">

    <title>Playing Events :: PyMaxMusic</title>

    
    <link href="/pymaxmusic/css/nucleus.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/fontawesome-all.min.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/hybrid.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/featherlight.min.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/perfect-scrollbar.min.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/auto-complete.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/atom-one-dark-reasonable.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/theme.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/tabs.css?1667179886" rel="stylesheet">
    <link href="/pymaxmusic/css/hugo-theme.css?1667179886" rel="stylesheet">
    
    

    <script src="/pymaxmusic/js/jquery-3.3.1.min.js?1667179886"></script>

    <style>
      :root #header + #content > #left > #rlblock_left{
          display:none !important;
      }
      
    </style>
    
  </head>
  <body class="" data-url="/pymaxmusic/usage/playing_events/">
    <nav id="sidebar" class="">



  <div id="header-wrapper">
    <div id="header">
      
<a id="logo" href='https://danielims.github.io/pymaxmusic/'>
    <svg>
        <text style="font-size: 24px;" x="30" y="30" fill="white">pymaxmusic</text>
      </svg>  
</a>
    </div>
    
        <div class="searchbox">
    <label for="search-by"><i class="fas fa-search"></i></label>
    <input data-search-input id="search-by" type="search" placeholder="Search...">
    <span data-search-clear=""><i class="fas fa-times"></i></span>
</div>

<script type="text/javascript" src="/pymaxmusic/js/lunr.min.js?1667179886"></script>
<script type="text/javascript" src="/pymaxmusic/js/auto-complete.js?1667179886"></script>
<script type="text/javascript">
    
        var baseurl = "https:\/\/danielims.github.io\/pymaxmusic\/";
    
</script>
<script type="text/javascript" src="/pymaxmusic/js/search.js?1667179886"></script>

    
  </div>
  
    <section id="homelinks">
      <ul>
        <li>
            <a class="padding" href='https://danielims.github.io/pymaxmusic/'><i class='fas fa-home'></i> Home</a>
        </li>
      </ul>
    </section>
  

    <div class="highlightable">
    <ul class="topics">

        
          
          




 
  
    
    <li data-nav-id="/pymaxmusic/usage/" title="Usage" class="dd-item
        parent
        
        
        ">
      <a href="/pymaxmusic/usage/">
          Usage
          
      </a>
      
      
        <ul>
          
          
            
          
          

        
          
            
            




 
  
    
    <li data-nav-id="/pymaxmusic/usage/overview/" title="Overview" class="dd-item
        
        
        
        ">
      <a href="/pymaxmusic/usage/overview/">
          Overview
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/pymaxmusic/usage/controlling_objects/" title="Controlling Objects" class="dd-item
        
        
        
        ">
      <a href="/pymaxmusic/usage/controlling_objects/">
          Controlling Objects
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/pymaxmusic/usage/playing_events/" title="Playing Events" class="dd-item
        
        active
        
        ">
      <a href="/pymaxmusic/usage/playing_events/">
          Playing Events
          
      </a>
      
      
    </li>
  
 

            
          
            
            




 
  
    
    <li data-nav-id="/pymaxmusic/usage/playing_notes/" title="Playing Notes" class="dd-item
        
        
        
        ">
      <a href="/pymaxmusic/usage/playing_notes/">
          Playing Notes
          
      </a>
      
      
    </li>
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/pymaxmusic/python_commands/" title="Python Commands" class="dd-item
        
        
        
        ">
      <a href="/pymaxmusic/python_commands/">
          Python Commands
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/python_commands/open_pymax/" title="open_pymax" class="dd-item ">
        <a href="/pymaxmusic/python_commands/open_pymax/">
        open_pymax
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/python_commands/add_object/" title="add_object" class="dd-item ">
        <a href="/pymaxmusic/python_commands/add_object/">
        add_object
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/python_commands/add_class/" title="add_class" class="dd-item ">
        <a href="/pymaxmusic/python_commands/add_class/">
        add_class
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/python_commands/add_generator/" title="add_generator" class="dd-item ">
        <a href="/pymaxmusic/python_commands/add_generator/">
        add_generator
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/python_commands/run_pymax/" title="run_pymax" class="dd-item ">
        <a href="/pymaxmusic/python_commands/run_pymax/">
        run_pymax
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/pymaxmusic/max_objects/" title="Max Objects" class="dd-item
        
        
        
        ">
      <a href="/pymaxmusic/max_objects/">
          Max Objects
          
      </a>
      
      
        <ul>
          
          
          

        
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/max_objects/pyobj/" title="pyobj" class="dd-item ">
        <a href="/pymaxmusic/max_objects/pyobj/">
        pyobj
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/max_objects/pygen/" title="pygen" class="dd-item ">
        <a href="/pymaxmusic/max_objects/pygen/">
        pygen
        
        </a>
    </li>
     
  
 

            
          
            
            




 
  
    
      <li data-nav-id="/pymaxmusic/max_objects/pynote/" title="pynote" class="dd-item ">
        <a href="/pymaxmusic/max_objects/pynote/">
        pynote
        
        </a>
    </li>
     
  
 

            
          
        
        </ul>
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/pymaxmusic/tutorials/" title="Video Tutorials" class="dd-item
        
        
        
        ">
      <a href="/pymaxmusic/tutorials/">
          Video Tutorials
          
      </a>
      
      
    </li>
  
 

          
          




 
  
    
    <li data-nav-id="/pymaxmusic/examples/" title="Examples" class="dd-item
        
        
        
        ">
      <a href="/pymaxmusic/examples/">
          Examples
          
      </a>
      
      
    </li>
  
 

          
        
    </ul>

    
    

    
    <section id="footer">
      <p>Built with <a href="https://github.com/matcornic/hugo-theme-learn"><i class="fas fa-heart"></i></a> from <a href="https://getgrav.org">Grav</a> and <a href="https://gohugo.io/">Hugo</a></p>

    </section>
  </div>
</nav>




        <section id="body">
        <div id="overlay"></div>
        <div class="padding highlightable">
              
              <div>
                <div id="top-bar">
                
                
                <div id="breadcrumbs" itemscope="" itemtype="http://data-vocabulary.org/Breadcrumb">
                    <span id="sidebar-toggle-span">
                        <a href="#" id="sidebar-toggle" data-sidebar-toggle="">
                          <i class="fas fa-bars"></i>
                        </a>
                    </span>
                  
                  <span id="toc-menu"><i class="fas fa-list-alt"></i></span>
                  
                  <span class="links">
                 
                 
                    
          
          
            
            
          
          
            
            
          
          
            <a href='/pymaxmusic/'>Pymaxmusic</a> > <a href='/pymaxmusic/usage/'>Usage</a> > Playing Events
          
        
          
        
          
        
                 
                  </span>
                </div>
                
                    <div class="progress">
    <div class="wrapper">
<nav id="TableOfContents">
  <ul>
    <li>
      <ul>
        <li></li>
      </ul>
    </li>
  </ul>
</nav>
    </div>
</div>

                
              </div>
            </div>
            
        <div id="head-tags">
        
        </div>
        
        <div id="body-inner">
          
            <h1>
              
              Playing Events
            </h1>
          

        



	<p>Generators are used in Pymax to produce events over time. You can have tempo-dependent events (metrical timing), or tempo-independent events (fixed time).</p>
<p>To send data to Max over time, write a generator that yields a list of the data. The only requirement for the list is that the first element must be the ontime at which this data will be sent.</p>
<p>Tempo-independent ontimes are measured in milliseconds. The following Python generator sends, every 12 milliseconds, the x and y values of a 1 Hz sine wave. There are thus three elements in the list that the generator yields:</p>
<ol>
<li>The ontime (required) in milliseconds,</li>
<li>The x-value, which is just the ontime itself,</li>
<li>The y-value: sin(2ùúã * time_in_seconds)</li>
</ol>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#f92672">import</span> math
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">sine_wave</span>():
</span></span><span style="display:flex;"><span>    ontime_in_ms <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> [ontime_in_ms, ontime_in_ms, math<span style="color:#f92672">.</span>sin(<span style="color:#ae81ff">2</span> <span style="color:#f92672">*</span> math<span style="color:#f92672">.</span>pi <span style="color:#f92672">*</span> ontime_in_ms<span style="color:#f92672">/</span><span style="color:#ae81ff">1000</span>)]
</span></span><span style="display:flex;"><span>        ontime_in_ms <span style="color:#f92672">+=</span> <span style="color:#ae81ff">12</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">from</span> pymaxmusic <span style="color:#f92672">import</span> pymax
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pymax<span style="color:#f92672">.</span>open_pymax()
</span></span><span style="display:flex;"><span>    pymax<span style="color:#f92672">.</span>add_generator(<span style="color:#e6db74">&#34;sine_wave&#34;</span>, sine_wave)
</span></span><span style="display:flex;"><span>    pymax<span style="color:#f92672">.</span>run_pymax()
</span></span></code></pre></div><p>To call this generator from max, create a pygen object. The pygen object takes two arguments, not one like the pyobj obj. The first argument is the type of time increment being used. There are two choices: ms for fixed-time events, and beats for tempo-dependent events. The second argument is the name of the generator.</p>
<p><img src="images/01.png" alt="pic1"></p>
<h4 id="metrical-time-and-tempo">Metrical Time and Tempo</h4>
<p>To use metrical time, use ‚Äúbeats‚Äù as the first argument to the pygen object. When you do this, you can change the tempo by sending a number into the rightmost inlet of the pygen object (if you don‚Äôt set the tempo, by default it will be 60).
Then, in the Python generator, the first element of the list it yields (the ontime) should be in terms of beats. In the following example, the generator plays an ascending C major scale in an infinite loop. The ontime increases in increments of .5, meaning half a beat. So if the tempo is set at 60, the generator will play 120 notes every minute.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">c_major_scale_loop</span>():
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    c_major_scale   <span style="color:#f92672">=</span> [<span style="color:#ae81ff">60</span>, <span style="color:#ae81ff">62</span>, <span style="color:#ae81ff">64</span>, <span style="color:#ae81ff">65</span>, <span style="color:#ae81ff">67</span>, <span style="color:#ae81ff">69</span>, <span style="color:#ae81ff">71</span>, <span style="color:#ae81ff">72</span>]    
</span></span><span style="display:flex;"><span>    ontime          <span style="color:#f92672">=</span> <span style="color:#ae81ff">0.0</span>
</span></span><span style="display:flex;"><span>    i               <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> [ontime, c_major_scale[i]]
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>        i       <span style="color:#f92672">=</span> (i <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>) <span style="color:#f92672">%</span> len(c_major_scale)
</span></span><span style="display:flex;"><span>        ontime  <span style="color:#f92672">+=</span> <span style="color:#ae81ff">.5</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">if</span> __name__ <span style="color:#f92672">==</span> <span style="color:#e6db74">&#34;__main__&#34;</span>:
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    <span style="color:#f92672">from</span> pymaxmusic <span style="color:#f92672">import</span> pymax
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>    pymax<span style="color:#f92672">.</span>open_pymax()
</span></span><span style="display:flex;"><span>    pymax<span style="color:#f92672">.</span>add_generator(<span style="color:#e6db74">&#34;c_maj_loop&#34;</span>, c_major_scale_loop)
</span></span><span style="display:flex;"><span>    pymax<span style="color:#f92672">.</span>run_pymax()
</span></span></code></pre></div><p><img src="images/02.png" alt="pic2"></p>





<footer class=" footline" >
	
</footer>

        
        </div>
        

      </div>

    <div id="navigation">
        
        

        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                    
                
                

                    
                    
                        
                    
                    

                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                        
                        
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
                        
            
            
                
                    
                
                

                    
                    
                    

                    
            
        
                    
            
        

        


	 
	 
		
			<a class="nav nav-prev" href="/pymaxmusic/usage/controlling_objects/" title="Controlling Objects"> <i class="fa fa-chevron-left"></i></a>
		
		
			<a class="nav nav-next" href="/pymaxmusic/usage/playing_notes/" title="Playing Notes" style="margin-right: 0px;"><i class="fa fa-chevron-right"></i></a>
		
	
    </div>

    </section>

    <div style="left: -1000px; overflow: scroll; position: absolute; top: -1000px; border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;">
      <div style="border: none; box-sizing: content-box; height: 200px; margin: 0px; padding: 0px; width: 200px;"></div>
    </div>
    <script src="/pymaxmusic/js/clipboard.min.js?1667179886"></script>
    <script src="/pymaxmusic/js/perfect-scrollbar.min.js?1667179886"></script>
    <script src="/pymaxmusic/js/perfect-scrollbar.jquery.min.js?1667179886"></script>
    <script src="/pymaxmusic/js/jquery.sticky.js?1667179886"></script>
    <script src="/pymaxmusic/js/featherlight.min.js?1667179886"></script>
    <script src="/pymaxmusic/js/highlight.pack.js?1667179886"></script>
    <script>hljs.initHighlightingOnLoad();</script>
    <script src="/pymaxmusic/js/modernizr.custom-3.6.0.js?1667179886"></script>
    <script src="/pymaxmusic/js/learn.js?1667179886"></script>
    <script src="/pymaxmusic/js/hugo-learn.js?1667179886"></script>
    
        
            <script src="/pymaxmusic/mermaid/mermaid.js?1667179886"></script>
        
        <script>
            mermaid.initialize({ startOnLoad: true });
        </script>
    
    

  </body>
</html>
